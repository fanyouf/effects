<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.block{
			position: absolute;
			width: 50px;
			height: 50px;
			background-color: #f40;
			top:400px;
		}
		.line{
			position: absolute;
			width: 500px;
			height: 5px;
			background-color: green;
			top:450px;
		}
	</style>
</head>
<body>
	
	<div id="block" class="block"></div>
	<div class="line"></div>
	<p>
		空格即可跳跃一次。
	</p>
	<script>

		var info = {
			dir:"down",
			t:0,
			dt:0.5,
			obj:document.getElementById("block"),
			v0 :60,
			g  :10,
			y0  :400,
			jumping:true,
			move:function(){
				if(this.jumping == false){
					
					info.t += info.dt;

					let y = info.y0 - ( info.v0 * info.t - 1/2 * info.g * info.t *info.t );

					
					if(y>=info.y0){
						y = info.y0;
						info.t = 0;
						this.jumping = true;
					}

					info.obj.style.top = y +"px"
				}
				
			}
		}
		setInterval(function(){
			info.move();

		},50)
		document.body.addEventListener("keyup",function(e){
			
			if(e.keyCode == 32){//表示空格
				console.info(e);
				info.jumping =false;
			}
		})
	</script>
</body>
</html>